services:
  logger.channel.esn_membership_manager:
    parent: logger.channel_base
    arguments: [ 'esn_membership_manager' ]

  esn_membership_manager.weeztix_api_service:
    class: Drupal\esn_membership_manager\Service\WeeztixApiService
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@state'
      - '@logger.factory'
      - '@datetime.time'

  esn_membership_manager.google_service:
    class: Drupal\esn_membership_manager\Service\GoogleService
    arguments:
      - '@config.factory'
      - '@logger.factory'

  esn_membership_manager.email_manager:
    class: Drupal\esn_membership_manager\Service\EmailManager
    arguments:
      - '@config.factory'
      - '@logger.factory'
      - '@plugin.manager.mail'
      - '@renderer'

  stream_wrapper.membership:
    class: Drupal\esn_membership_manager\StreamWrapper\MembershipStreamWrapper
    tags:
      - { name: stream_wrapper, scheme: membership }