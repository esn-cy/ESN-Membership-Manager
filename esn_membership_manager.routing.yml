esn_membership_manager.scan:
  path: '/api/esncard/scan'
  defaults:
    _controller: '\Drupal\esn_membership_manager\Controller\ScanController::scanCard'
    _title: 'Scan Free Passes and ESNcards'
  requirements:
    _access: 'TRUE'
  methods: [ GET, POST ]

esn_membership_manager.scan_page:
  path: '/memberships/scan'
  defaults:
    _controller: '\Drupal\esn_membership_manager\Page\ScanPage::scanPage'
    _title: 'Scan Free Passes and ESNcards'
  requirements:
    _permission: 'scan cards'

esn_membership_manager.add:
  path: '/api/esncard/add'
  defaults:
    _controller: '\Drupal\esn_membership_manager\Controller\AddController::addCard'
    _title: 'Add ESNcard'
  requirements:
    _access: 'TRUE'
  methods: [ POST ]

esn_membership_manager.status:
  path: '/api/esncard/status'
  defaults:
    _controller: '\Drupal\esn_membership_manager\Controller\StatusController::changeStatus'
    _title: 'Change the status of an ESNcard'
  requirements:
    _access: 'TRUE'
  methods: [ POST ]

esn_membership_manager.stripe_webhook:
  path: '/stripe/webhook'
  defaults:
    _controller: '\Drupal\esn_membership_manager\Controller\StripeWebhookController::handleWebhook'
  requirements:
    _access: 'TRUE'
  methods: [ POST ]

esn_membership_manager.manage_esncard_numbers:
  path: '/memberships/manage-esncard-numbers'
  defaults:
    _form: '\Drupal\esn_membership_manager\Form\ESNcardNumberForm'
    _title: 'Bulk Insert ESNcards'
  requirements:
    _permission: 'manage esncard numbers'
  options:
    _admin_route: FALSE

esn_membership_manager.settings:
  path: '/admin/config/system/esn-membership-manager'
  defaults:
    _form: '\Drupal\esn_membership_manager\Form\SettingsForm'
    _title: 'ESN Membership Manager Settings'
  requirements:
    _permission: 'manage module settings'

esn_membership_manager.weeztix_oauth_callback:
  path: '/admin/config/system/esn-membership-manager/weeztix-auth-callback'
  defaults:
    _controller: '\Drupal\esn_membership_manager\Controller\WeeztixAuthController::callback'
    _title: 'Weeztix Authentication'
  requirements:
    _permission: 'manage module settings'